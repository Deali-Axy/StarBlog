@model ImageViewModel

<div class="image-placeholder position-relative"
     style="width: 100%; height: 100%; background-color: transparent; border-radius: 0.375rem; overflow: hidden;">
    <!-- 加载动画占位符 -->
    <div class="loading-spinner position-absolute top-50 start-50 translate-middle" id="loading-@Model.Id" style="z-index: 2;">
        <div class="spinner-border spinner-border-sm text-secondary" role="status">
            <span class="visually-hidden">加载中...</span>
        </div>
    </div>

    <!-- 预加载占位背景 -->
    <div class="placeholder-bg position-absolute w-100 h-100" id="placeholder-@Model.Id" 
         style="background-color: #e9ecef; z-index: 1; transition: opacity 0.3s ease;"></div>

    <img alt="@Model.Alt" class="img-fluid rounded w-100 h-100"
         style="object-fit: cover; opacity: 0; transition: opacity 0.3s ease; position: relative; z-index: 3;"
         src="@Model.Src" loading="lazy"
         onerror="this.src='https://placehold.co/@(Model.Width)x@(Model.Height)/e9ecef/6c757d?text=暂无图片'; document.getElementById('loading-@Model.Id').style.display='none'; document.getElementById('placeholder-@Model.Id').style.opacity='0';"
         onload="this.style.opacity='1'; document.getElementById('loading-@Model.Id').style.display='none'; document.getElementById('placeholder-@Model.Id').style.opacity='0';">
</div>